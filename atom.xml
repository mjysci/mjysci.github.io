<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>名实合为</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://moye.bid/"/>
  <updated>2017-04-03T01:31:17.175Z</updated>
  <id>http://moye.bid/</id>
  
  <author>
    <name>mjy</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>通过CSS高亮显示已访问链接</title>
    <link href="http://moye.bid/2017/04/03/highlight-visited/"/>
    <id>http://moye.bid/2017/04/03/highlight-visited/</id>
    <published>2017-04-02T23:18:07.000Z</published>
    <updated>2017-04-03T01:31:17.175Z</updated>
    
    <content type="html"><![CDATA[<h2 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h2><p>不少网站为了增加点击率通过CSS让已访问链接颜色不变，个别无节操门户网站甚至时不时改个标题让你以为是新文章，点进去发现已经看过。</p>
<a id="more"></a>
<h2 id="过程"><a href="#过程" class="headerlink" title="过程"></a>过程</h2><p>最初的解决方案是安装<a href="https://chrome.google.com/webstore/detail/stylish-custom-themes-for/fjnbnpbmkenffdnngjfgmeleoegfcffe" target="_blank" rel="external">Stylish</a>，然后安装全局主题<a href="https://userstyles.org/styles/31267/global-dark-style-changes-everything-to-dark" target="_blank" rel="external">Global dark style</a>。</p>
<p>但用久了感觉这个主题适合夜晚使用，特别是阅读长文。其他情况下缺乏美感。</p>
<p>我主要是需要已访问链接高亮显示，于是选择了<a href="https://userstyles.org/styles/17357/red-visited-mark-visited-links-red-dm" target="_blank" rel="external">Red:visited</a>。不过默认的红色实在有点刺眼，我要其比未访问链接低调一些，记忆当中HTML标准的默认浅紫色就不错，完整的推荐设置<a href="https://www.w3.org/TR/html5/rendering.html#the-css-user-agent-style-sheet-and-presentational-hints" target="_blank" rel="external">在这里</a>。把主题里的#CC0000改成#551A8B即可。</p>
<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><p>但新的问题产生了：对于背景颜色较深的网站，紫色很难看清，所以还要改下链接的背景色。最终结果如下：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:visited</span>, <span class="selector-class">.fl</span><span class="selector-pseudo">:visited</span> &#123;</div><div class="line">    <span class="attribute">color</span>: <span class="number">#551A8B</span> <span class="meta">!important</span>;</div><div class="line">    <span class="attribute">background-color</span>: <span class="number">#ccc</span> <span class="meta">!important</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="TODO"><a href="#TODO" class="headerlink" title="TODO"></a>TODO</h2><p>如果背景是图片就无能为力了，去掉!important的话漏网之鱼又太多。想要解决的话应该是读取原有字体颜色，然后用lighten（依赖SASS）或者自己设计一个简单的数学变换来使其变浅。第一步需要javascript来实现。</p>
<p>去<a href="https://greasyfork.org" target="_blank" rel="external">GreasyFork</a>找了下没有实现类似功能的脚本，准备自己写一个却发现由于安全问题getComputedStyle并<a href="https://hacks.mozilla.org/2010/03/privacy-related-changes-coming-to-css-vistited/" target="_blank" rel="external">不能返回已访问链接颜色的正确结果</a>。这样就不能直接在循环内判断是否visited并根据原来颜色变浅了。js读取颜色后要另外再用CSS来判断并改色。</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;原因&quot;&gt;&lt;a href=&quot;#原因&quot; class=&quot;headerlink&quot; title=&quot;原因&quot;&gt;&lt;/a&gt;原因&lt;/h2&gt;&lt;p&gt;不少网站为了增加点击率通过CSS让已访问链接颜色不变，个别无节操门户网站甚至时不时改个标题让你以为是新文章，点进去发现已经看过。&lt;/p&gt;
    
    </summary>
    
      <category term="笔记" scheme="http://moye.bid/categories/%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="css" scheme="http://moye.bid/tags/css/"/>
    
      <category term="javascript" scheme="http://moye.bid/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>Hello World! 静态博客Hexo部署于GitHub</title>
    <link href="http://moye.bid/2017/04/02/hello-world/"/>
    <id>http://moye.bid/2017/04/02/hello-world/</id>
    <published>2017-04-02T04:48:03.000Z</published>
    <updated>2017-04-03T01:30:25.927Z</updated>
    
    <content type="html"><![CDATA[<p>某网站注册不能用免费邮箱，一时冲动买了个域名来弄企业邮箱，另外也配合ngrok做内网穿透。只是这样的话有点浪费，于是顺便搭个静态博客来玩。</p>
<p>就需求来说，个人笔记以前用evernote就足够了，协作，共享都能实现，手机端操作十分方便。但私人笔记记录比较随意，注释都没几条，时间久了按步骤复现没问题，但背后原理难免有点模糊。发到博客上则能强制自己写仔细认真些。</p>
<h2 id="静态博客平台比较"><a href="#静态博客平台比较" class="headerlink" title="静态博客平台比较"></a>静态博客平台比较</h2><a id="more"></a>
<p>首先要按需求和前置技能选一个合适的平台，以下结论是google得来，除了Hexo另外两个并未亲自尝试，所以并不靠谱。以后有空会都试试再详细对比。</p>
<h3 id="Jekyll-JB-octopress"><a href="#Jekyll-JB-octopress" class="headerlink" title="Jekyll (JB, octopress)"></a>Jekyll (JB, octopress)</h3><p>+Github原生支持<br>+插件众多<br>-页面生成效率低<br>-ruby搭建环境对win不友好</p>
<h3 id="Hugo"><a href="#Hugo" class="headerlink" title="Hugo"></a>Hugo</h3><p>+GO编写，性能强大，页面生成效率极高<br>+依赖少，单个可执行文件搭建环境简单<br>-扩展性差</p>
<h3 id="Hexo"><a href="#Hexo" class="headerlink" title="Hexo"></a>Hexo</h3><p>+Node.js，搭建环境相对简单<br>+扩展性强<br>+页面生成效率不及Hugo，但远超Jekyll<br>-社区偏小</p>
<p>由上可见性能和扩展性折中的Hexo更合适我个人使用。</p>
<h2 id="环境搭建（Win）"><a href="#环境搭建（Win）" class="headerlink" title="环境搭建（Win）"></a>环境搭建（Win）</h2><ol>
<li><a href="https://git-scm.com/download/win" target="_blank" rel="external">Git</a></li>
<li><a href="https://nodejs.org/en/" target="_blank" rel="external">Node.js</a></li>
<li><a href="https://github.com/" target="_blank" rel="external">注册GitHub账号</a></li>
<li>配置SSH keys<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ <span class="built_in">cd</span> ~/.ssh</div></pre></td></tr></table></figure>
</li>
</ol>
<p>若提示No such file or directory则需生成新Key<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ssh-keygen -t rsa -C <span class="string">"youremail@youremail.com"</span></div></pre></td></tr></table></figure></p>
<p>passphrase为每次提交项目输入的口令，若不想每次都输入的话可以<a href="https://help.github.com/articles/working-with-ssh-key-passphrases/" target="_blank" rel="external">通过ssh-agent来保存</a><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">cd</span></div><div class="line">touch .profile</div><div class="line">vim .profile	<span class="comment">#添加启动代码</span></div></pre></td></tr></table></figure></p>
<p>复制%USERPROFILE%.ssh\id_rsa.pub的内容到<a href="https://github.com/settings/keys" target="_blank" rel="external">Github Settings</a><br>注：<a href="https://en.wikipedia.org/wiki/Environment_variable#Windows" target="_blank" rel="external">Windows环境变量</a><br>测试ssh<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ssh -T git@github.com</div></pre></td></tr></table></figure></p>
<p>设置用户信息<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ git config --global user.name <span class="string">"你的姓名"</span>	<span class="comment">#不是用户名</span></div><div class="line">$ git config --global user.email <span class="string">"你的邮箱"</span></div></pre></td></tr></table></figure></p>
<h2 id="部署Hexo"><a href="#部署Hexo" class="headerlink" title="部署Hexo"></a>部署Hexo</h2><p>若访问npmjs.org过慢，可换<a href="https://npm.taobao.org" target="_blank" rel="external">淘宝的源</a>，改用cnpm即可。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install -g cnpm --registry=https://registry.npm.taobao.org</div></pre></td></tr></table></figure></p>
<p>建立新文件夹，在bash中指向这个文件夹<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ hexo init</div><div class="line">$ npm install</div><div class="line">$ hexo generate		<span class="comment">#生成静态页面至public目录</span></div><div class="line">$ hexo server		<span class="comment">#http://localhost:4000 查看效果</span></div></pre></td></tr></table></figure></p>
<h3 id="安装主题"><a href="#安装主题" class="headerlink" title="安装主题"></a>安装主题</h3><p>这里选用的是<a href="https://github.com/luuman/hexo-theme-spfk" target="_blank" rel="external">luuman的SPFK</a><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ git <span class="built_in">clone</span> https://github.com/luuman/hexo-theme-spfk.git themes/spfk</div></pre></td></tr></table></figure></p>
<h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><p>修改以下文件</p>
<h4 id="config-yml"><a href="#config-yml" class="headerlink" title="/_config.yml"></a>/_config.yml</h4><p>Site部分<br>url<br>theme: spfk<br>Deployment部分<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">deploy:</div><div class="line">  type: git</div><div class="line">  repository: git@github.com:username/username.github.io.git</div><div class="line">  branch: master</div></pre></td></tr></table></figure></p>
<h4 id="themes-spfk-config-yml"><a href="#themes-spfk-config-yml" class="headerlink" title="/themes/spfk/_config.yml"></a>/themes/spfk/_config.yml</h4><p>启用youyan，注释掉另外两个<br>friends部分，添加友链<br>站长验证<br>流量统计</p>
<h4 id="themes-spfk-source-img"><a href="#themes-spfk-source-img" class="headerlink" title="/themes/spfk/source/img"></a>/themes/spfk/source/img</h4><p>替换favicon.png, head.jpg, alipayimg.jpg, wechatimg.jpg, apple-touch-icon.png</p>
<h3 id="部署到GitHub"><a href="#部署到GitHub" class="headerlink" title="部署到GitHub"></a>部署到GitHub</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo d</div></pre></td></tr></table></figure>
<h3 id="定制域名（可选）"><a href="#定制域名（可选）" class="headerlink" title="定制域名（可选）"></a>定制域名（可选）</h3><p>在public目录添加CNAME，内容为域名地址。<br>到DNS服务商处更改解析：添加两条A记录（@和www）都指向<a href="https://help.github.com/articles/troubleshooting-custom-domains/#dns-configuration-errors" target="_blank" rel="external">192.30.252.153</a></p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a href="https://hexo.io/docs/index.html" target="_blank" rel="external">Hexo Docs</a><br><a href="http://luuman.github.io/2015/12/27/Hexo/GitHubHexo/" target="_blank" rel="external">使用GitHub搭建Hexo博客</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;某网站注册不能用免费邮箱，一时冲动买了个域名来弄企业邮箱，另外也配合ngrok做内网穿透。只是这样的话有点浪费，于是顺便搭个静态博客来玩。&lt;/p&gt;
&lt;p&gt;就需求来说，个人笔记以前用evernote就足够了，协作，共享都能实现，手机端操作十分方便。但私人笔记记录比较随意，注释都没几条，时间久了按步骤复现没问题，但背后原理难免有点模糊。发到博客上则能强制自己写仔细认真些。&lt;/p&gt;
&lt;h2 id=&quot;静态博客平台比较&quot;&gt;&lt;a href=&quot;#静态博客平台比较&quot; class=&quot;headerlink&quot; title=&quot;静态博客平台比较&quot;&gt;&lt;/a&gt;静态博客平台比较&lt;/h2&gt;
    
    </summary>
    
      <category term="笔记" scheme="http://moye.bid/categories/%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="hexo" scheme="http://moye.bid/tags/hexo/"/>
    
      <category term="github" scheme="http://moye.bid/tags/github/"/>
    
  </entry>
  
</feed>
